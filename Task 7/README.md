# Task 7

## Case

Хотим предоставить Вам тестовое задание, чтобы Вы могли понять с чем Вам придется работать, а мы могли оценить Ваш потенциал.
Тестовое задание выполняется на 2х отдельных тестовых площадках (в нашем случае 2 виртуальных машинах..
Предоставьте Ваш публичный ключ SSH, чтоб мы могли дать доступ к площадкам.

Site C: SSH lab@vm-1:9023
Internal network 172.31.234.80/28 (addresses 172.31.234.83-172.31.234.94 can be used.
Private network 192.168.2.0/24

Site A SSH lab@vm-2:9023
Internal network 172.31.228.144/28 (addresses 172.31.228.147-172.31.228.158 can be used.
Private network 192.168.3.0/24

## Task

1. Создать на каждой из площадок:

    - контейнер с web-сервером (достаточно странички Hello World, с выводом текущего времени сервера и его имени хоста., использовать адрес из соответствующего Internal network
    - контейнер с базой данных и авторитативным NS-сервером для зоны devops.task.com, зону брать из Б/Д, использовать адрес из соответствующего Private network, добавить произвольные записи (например,www.devops.task.com. для web-серверов
    - зафорвардить запросы dns, приходящие на каждую из нод, в её контейнер p.1.2
2. Поднять IPsec между площадками и обеспечить маршрутизацию через него Private-подсетей 192.168.2.0/24 и 192.168.3.0/24
3. Настроить репликацию баз данных с п.1.2 с одной из площадок на другую либо обеспечить их взаимную репликацию
4. Организовать синхронизацию контента web-серверов p.1.1 с какого-либо общего репозитария или с одного из их инстансов
5. Заскриптовать клонирование (опционально - удаление ранее созданного клона. контейнера p.1.1 и обновление Б/Д NS п. 1.2 для включения его в зону devops.task.com


## Bonus track

Для любой Unix-like системы необходимо написать скрипт(ы. для установки/удаления/обновления заведомо неизвестных нам пакетов из файлов (.rpm или .deb или любых других на Ваше усмотрение.. После установки пакетов, необходимо перезапускать сервис, имя которого передается как параметр. Проверить, что пакеты установлены, а сервис запущен. Предусмотреть в скрипте исключительные ситуации, например, пакет(ы. уже установлен(ы.. Скрипт должен логировать свои действия и иметь help. Также на Ваше усмотрение реализуйте в скрипте любую интересную функцию. Например, создание бэкапов или «пасхалку». Дистрибутив, пакетный менеджер, сервис остаются на Ваше усмотрение. Нет строгих ограничений по реализации скрипта.
